---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import Tags from "../../components/ui/Tags.astro";
import Button from "./Button.astro";
const projects = await getCollection("projects");
---

{
  projects.map((project) => (
    <section class="w-3/4 p-4 md:w-1/2">
      <article class=" bg-accent1 p-3 ">
        <div class="relative flex items-end overflow-hidden rounded-l duration-100 hover:scale-105 hover:transform">
          <a href={project.data.urls.site} aria-label="link to project">
            <Image
              src={project.data.cover}
              alt={project.data.coverAlt}
              format="png"
              width={400}
              height={400}
              loading="eager"
            />
          </a>
        </div>
        <div class="mt-1 p-2">
          <h3 class="mb-2 w-full text-xl text-text font-heading">
            {project.data.title}
          </h3>
          <p class="text-secondtext font-body text-sm">{project.data.description}</p>
          <Tags tags={project.data.tags} />
        </div>
        <div class="flex flex-row justify-start gap-4">
          <Button
            target="_blank"
            href={project.data.urls.site}
            aria-label="link to project"
            style={"primary"}
            size={"sm"}
            class={"flex"}
            name="projects"
          >
            Site
          </Button>
          <Button
            target="_blank"
            href={project.data.urls.github}
            style={"primary"}
            size={"sm"}
            class={"flex"}
            name="projects"
          >
            Code
          </Button>
        </div>
      </article>
    </section>
  ))
}
